{% extends 'base.html.twig' %}

{% block title %}Contact & À propos{% endblock %}

{% block body %}
<div style="max-width: 1100px; margin: 2rem auto; display: grid; gap: 24px;">

    
    <h1 style="font-family:'Poppins', sans-serif;">Contact & À propos</h1>

    {% for m in app.flashes('success') %}
        <div style="background:#0b5e2b;color:#fff;padding:.75rem 1rem;border-radius:10px;">{{ m }}</div>
    {% endfor %}

    {% for m in app.flashes('error') %}
        <div style="background:#8b1d1d;color:#fff;padding:.75rem 1rem;border-radius:10px;">{{ m }}</div>
    {% endfor %}

    
    <div style="display:grid; grid-template-columns: 1.2fr .8fr; gap: 20px;">
        <!-- Google Maps -->
        <section style="background:#000; border-radius:14px; overflow:hidden; box-shadow:0 8px 20px rgba(0,0,0,.25);">
            <iframe src="https://www.google.com/maps?q=119+Boulevard+Magenta,+75010+Paris&output=embed"
                    width="100%" height="500"
                    style="border:0; display:block;"
                    allowfullscreen="" loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"></iframe>
        </section>

        
        <aside style="background:rgba(255,255,255,0.04); border:1px solid var(--border); border-radius:12px; padding:16px; font-family:'Poppins', sans-serif;">
            <h2 style="margin:0 0 10px 0; font-family:'Poppins', sans-serif;">Coordonnées</h2>
            <ul style="list-style:none; padding:0; margin:0; color:var(--text); display:grid; gap:8px;">
                <li><strong>Bureau de change</strong>: Royal Gold Forex Paris</li>
                <li><strong>Adresse</strong>: 119 Boulevard Magenta, 75010 Paris</li>
                <li><strong>Téléphone</strong>: <a href="tel:+33123456789" style="color:#000;text-decoration:underline;text-decoration-color:#000;">+33 1 49 26 91 10</a></li>
                <li><strong>Email</strong>: <a href="mailto:contact@royalgoldforex.fr" style="color:#000;text-decoration:underline;text-decoration-color:#000;">contact@royalgoldforex.fr</a></li>
                <li><strong>Horaires</strong>: Lun–Ven 09:30–19:00, Sam 10:00-19:00, Dim fermé</li>
                <li><strong>WhatsApp</strong>: <a href="https://wa.me/33123456789" target="_blank" rel="noopener" style="color:#000;text-decoration:underline;text-decoration-color:#000;">+33 1 23 45 67 89</a></li>
                <li><strong>Plan</strong>: <a href="https://maps.google.com/?q=119+Boulevard+Magenta+75010+Paris" target="_blank" rel="noopener" style="color:#000;text-decoration:underline;text-decoration-color:#000;">Voir sur Google Maps</a></li>
            </ul>
            <div style="margin-top:10px; color:#777;">
                Pièce d’identité requise pour toute transaction. Taux indicatifs susceptibles d’évoluer selon le marché.
            </div>
        </aside>
    </div>

    
    <section style="background:rgba(255,255,255,0.04); border:1px solid var(--border); border-radius:12px; padding:24px; font-family:'Poppins', sans-serif;">
        <h2 id="form" style="margin:0 0 20px 0; font-family:'Poppins', sans-serif;">Nous écrire</h2>

        <form method="post" action="{{ path('app_contact', {mode: mode}) }}" style="display:grid; gap: 24px;">
            <div style="display:flex; flex-direction:column; gap:8px;">
                <label style="font-weight:600;">Nom</label>
                <input name="name" required {% if mode == 'guest' %}disabled{% endif %}
                       style="width:100%;padding:14px 16px;border:2px solid #333;border-radius:0;background:#f9f9f9;color:#000;font-size:16px;" />
            </div>

            <div style="display:flex; flex-direction:column; gap:8px;">
                <label style="font-weight:600;">Email</label>
                <input type="email" name="email" required {% if mode == 'guest' %}disabled{% endif %}
                       style="width:100%;padding:14px 16px;border:2px solid #333;border-radius:0;background:#f9f9f9;color:#000;font-size:16px;" />
            </div>

            <div style="display:flex; flex-direction:column; gap:8px;">
                <label style="font-weight:600;">Message</label>
                <textarea name="message" rows="6" required {% if mode == 'guest' %}disabled{% endif %}
                          style="width:100%;padding:14px 16px;border:2px solid #333;border-radius:0;background:#f9f9f9;color:#000;font-size:16px;resize:vertical;"></textarea>
                {% if mode == 'guest' %}
                    <small style="color:#777;">Connectez-vous pour pouvoir envoyer un message.</small>
                {% endif %}
            </div>

            <div>
                <button type="submit"
                        style="background:#000;color:#fff;padding:14px 24px;border:none;border-radius:0;cursor:pointer;font-family:'Poppins', sans-serif;font-size:16px; font-weight:600;"
                        {% if mode == 'guest' %}disabled{% endif %}>
                    Envoyer
                </button>
            </div>
        </form>
    </section>

    <!-- À propos -->
    <section id="apropos" style="background:rgba(255,255,255,0.04); border:1px solid var(--border); border-radius:12px; padding:16px;">
        <h2 style="margin:0 0 10px 0; font-family:'Poppins', sans-serif;">À propos de notre bureau de change</h2>
        <p style="color:var(--muted);">
            Depuis plusieurs années, notre bureau de change accompagne particuliers et professionnels pour l’achat et la vente de devises aux meilleurs taux.
            Nous couvrons un large choix de monnaies (USD, GBP, CHF, JPY, XOF, XAF, ZAR…) et mettons à jour nos cours tout au long de la journée.
        </p>
        <ul style="color:var(--text); margin:0; padding-left:18px;">
            <li>Réservation en ligne, retrait le jour-même avant 19h</li>
            <li>Règlement en espèces ou carte bancaire (selon montant)</li>
            <li>Conseils personnalisés pour vos voyages et transferts</li>
            <li>Conformité réglementaire et traçabilité des opérations</li>
        </ul>
    </section>

    
    <div style="margin-top:8px; display:flex; gap:10px; justify-content:flex-start;">
        <a class="btn btn-primary" href="{{ path('app_reservation', {mode: mode|default('guest')}) }}"
           {% if mode|default('guest') == 'guest' %}aria-disabled="true" onclick="return false;"{% endif %}
           style="color:#000;text-decoration:underline;text-decoration-color:#000;">
            Réserver maintenant
        </a>
        {% if mode|default('guest') == 'guest' %}
            <small style="align-self:center; color:#777;">Connectez-vous pour pouvoir réserver.</small>
        {% endif %}
    </div>
</div>
{% endblock %}

