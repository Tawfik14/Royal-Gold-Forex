{% extends 'base.html.twig' %}
{% block title %}Inscription{% endblock %}

{% block stylesheets %}
  {{ parent() }}
  <style>
    /* Police Poppins partout dans la zone */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
    .auth-wrap, .auth-wrap *{ font-family:'Poppins',sans-serif; color:#0b1220; }

    /* Conteneur général (sans carte ni contour) */
    .auth-wrap{ max-width:560px; margin:40px auto 72px; padding:0 16px; }

    /* Titre simple */
    .auth-title{ margin:0 0 14px; font-size:1.3rem; font-weight:700; letter-spacing:.2px; }

    /* Grilles de champs */
    .auth-grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
    .auth-grid-21{ display:grid; grid-template-columns:2fr 1fr; gap:12px; }
    @media (max-width:640px){
      .auth-grid-2, .auth-grid-21{ grid-template-columns:1fr; }
    }

    /* Labels + champs (angles droits) */
    .auth-label{ font-weight:600; margin-bottom:6px; display:block; }
    .auth-field{
      width:100%;
      padding:12px 14px;
      border:1px solid #000;     /* bord noir discret */
      border-radius:0;           /* angles droits */
      background:#fff; color:#0b1220;
      outline:none;
      transition:border-color .12s, box-shadow .12s;
    }
    .auth-field:focus{
      border-color:#000;
      box-shadow:0 0 0 2px rgba(0,0,0,.08); /* léger focus, pas de contour global du form */
    }

    /* Retirer les flèches des "number" au cas où */
    input[type=number]::-webkit-outer-spin-button,
    input[type=number]::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0 }
    input[type=number]{ -moz-appearance:textfield; appearance:textfield }

    /* Bouton noir, angles droits */
    .auth-btn{
      appearance:none; cursor:pointer; width:100%;
      border:1px solid #000; background:#000; color:#fff;
      padding:13px 16px; border-radius:0; font-weight:700;
      transition:opacity .12s ease, transform .04s ease;
      margin-top:6px;
    }
    .auth-btn:hover{ opacity:.92; }
    .auth-btn:active{ transform:translateY(1px); }

    /* Messages d'erreur */
    .auth-flash{
      background:#8b1d1d; color:#fff;
      padding:.6rem 1rem; border-radius:8px; margin:.5rem 0;
    }

    /* Lien bas de formulaire */
    .auth-bottom{ margin-top:10px; color:#6b7280; }
    .auth-bottom a{
      color:#0b1220; text-decoration:underline; text-underline-offset:3px; font-weight:600;
    }
  </style>
{% endblock %}

{% block body %}
<div class="auth-wrap">
  <h1 class="auth-title">Créer un compte</h1>

  {% for m in app.flashes('error') %}
    <div class="auth-flash">{{ m }}</div>
  {% endfor %}

  <form method="post" action="{{ path('app_register', {mode: mode|default('guest')}) }}" style="display:grid; gap: 12px;">
    <div class="auth-grid-2">
      <div>
        <label class="auth-label">Prénom</label>
        <input class="auth-field" name="first_name" required />
      </div>
      <div>
        <label class="auth-label">Nom</label>
        <input class="auth-field" name="name" required />
      </div>
    </div>

    <div class="auth-grid-21">
      <div>
        <label class="auth-label">Email</label>
        <input class="auth-field" type="email" name="email" required />
      </div>
      <div>
        <label class="auth-label">Date de naissance</label>
        <input class="auth-field" type="date" name="dob" required max="{{ 'now'|date('Y-m-d') }}" />
      </div>
    </div>

    <div class="auth-grid-2">
      <div>
        <label class="auth-label">Mot de passe</label>
        <input class="auth-field" type="password" name="password" required />
      </div>
      <div>
        <label class="auth-label">Confirmer</label>
        <input class="auth-field" type="password" name="confirm" required />
      </div>
    </div>

    <button class="auth-btn" type="submit">S’inscrire</button>
  </form>

  <div class="auth-bottom">
    Déjà inscrit ?
    <a href="{{ path('app_login', {mode: mode|default('guest')}) }}">Se connecter</a>
  </div>
</div>
{% endblock %}

